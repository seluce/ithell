<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layer8Problem</title>

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî•</text></svg>">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Layer8Problem">

    <meta name="theme-color" content="#020617">

    <script src="https://cdn.tailwindcss.com"></script>	
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;800&display=swap');
        
        body { 
            font-family: 'JetBrains Mono', monospace; 
            background-color: #020617; 
            color: #e2e8f0; 
            height: 100vh; 
            overflow: hidden; 
            display: flex; 
            flex-direction: column; 
            padding: 1rem;
        }

        /* Responsive Scroll: Ab 1024px und kleiner wird gescrollt */
        @media (max-width: 1024px) {
            body { height: auto; overflow-y: auto; }
        }

        /* NEON LOOK */
        .neon-box {
            background: #0f172a; border: 1px solid #1e293b;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5); border-radius: 0.75rem; position: relative;
        }
        .border-blue { border-top: 3px solid #3b82f6; }
        .border-green { border-top: 3px solid #10b981; }
        .border-orange { border-top: 3px solid #f97316; }
        .border-red { border-top: 3px solid #ef4444; }
        .border-purple { border-top: 3px solid #a855f7; }

        /* ANIMATIONS */
        .ticket-pulse { animation: pulse-red 1s infinite; color: #ef4444; }
        @keyframes pulse-red { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

        /* BOSS TIMER */
        #boss-timer-container {
            width: 100%; height: 8px; background: #334155; border-radius: 4px; 
            margin-bottom: 1rem; overflow: hidden; display: none; border: 1px solid #ef4444;
        }
        #boss-timer-bar { height: 100%; background: #ef4444; width: 100%; transition: width 1s linear; }

        /* ACHIEVEMENTS */
        #achievement-container {
            position: fixed; bottom: 100px; right: 20px; z-index: 100;
            display: flex; flex-direction: column; gap: 10px; pointer-events: none;
        }
        .achievement-toast {
            background: rgba(16, 185, 129, 0.95); color: white;
            border: 2px solid #059669; border-radius: 8px;
            padding: 12px 16px; min-width: 250px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.8);
            animation: slideIn 0.5s ease-out, fadeOut 0.5s ease-in 4s forwards;
            display: flex; align-items: center; gap: 12px;
        }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; transform: translateY(10px); } }

    /* E-Mail Animation START
	
    @keyframes slide-up {
        0% { transform: translateY(20px); opacity: 0; }
        100% { transform: translateY(0); opacity: 1; }
    }
    .animate-slide-up {
        animation: slide-up 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }
	
	/* Sanfte E-Mail Animation */
	@keyframes pop-in {
    0% { opacity: 0; transform: scale(0.95) translateY(10px); }
    100% { opacity: 1; transform: scale(1) translateY(0); }
	}
	.animate-pop-in {
 	   animation: pop-in 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	}
	
    /* E-Mail Animation END

        /* PHONE & CHAT */
        #smartphone {
            background: #000; border: 4px solid #334155; border-radius: 12px;
            overflow: hidden; position: relative; display: flex; flex-direction: column;
            height: 100%; 
            min-height: 300px; /* Mindesth√∂he f√ºr Mobile View */
        }
        .chat-bubble { padding: 8px 12px; margin-bottom: 8px; border-radius: 8px; font-size: 0.75rem; max-width: 90%; }
        .chat-in { background: #1e293b; border-left: 3px solid #6366f1; align-self: flex-start; }
        .chat-out { background: #3b82f6; color: white; align-self: flex-end; }
        .chat-system { background: #0f172a; border: 1px solid #334155; color: #94a3b8; align-self: center; text-align: center; font-size: 0.65rem; margin-top: 5px; padding: 5px; border-radius: 5px;}

        /* INVENTORY */
        .inv-slot {
            background: #1e293b; border: 1px solid #334155; height: 40px; width: 40px;
            border-radius: 8px; display: flex; justify-content: center; align-items: center;
            font-size: 20px; cursor: help; position: relative;
        }
        .inv-slot.used { opacity: 0.4; filter: grayscale(100%); }
        .inv-slot.used::after { content: '‚úî'; position: absolute; bottom: -2px; right: -2px; font-size: 10px; color: #10b981; }

        /* BUTTONS */
        .action-btn {
            background: #1e293b; border: 1px solid #334155; transition: all 0.1s;
            border-radius: 0.75rem; display: flex; flex-direction: column; 
            align-items: center; justify-content: center; cursor: pointer; padding: 10px;
        }
        .action-btn:hover { background: #334155; border-color: #94a3b8; transform: translateY(-2px); }
        .action-btn:active { transform: translateY(0); }
        .action-btn:disabled { opacity: 0.3; cursor: not-allowed; transform: none; }

        .choice-btn {
            width: 100%; background: #1e293b; border: 1px solid #475569; padding: 1rem;
            text-align: left; transition: all 0.2s; border-radius: 0.5rem; margin-bottom: 0.5rem;
            display: flex; justify-content: space-between; align-items: center;
        }
        .choice-btn:hover { border-color: #3b82f6; background: #0f172a; }
        .choice-btn.locked { opacity: 0.5; border-color: #ef4444; cursor: not-allowed; background: #1a1a1a; }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
    </style>
</head>
<body class="text-xs md:text-sm">
    
    <div id="achievement-container"></div>

<div id="intro-modal" class="fixed inset-0 bg-black/95 z-[999] flex items-center justify-center p-4">
        <div class="neon-box border-blue bg-slate-900 max-w-4xl w-full p-8 shadow-2xl relative overflow-hidden flex flex-col md:flex-row gap-8 max-h-[90vh] overflow-y-auto">
            
            <div class="flex-1 flex flex-col">
                <h1 class="text-3xl md:text-5xl font-black text-white mb-4 tracking-tighter">Layer8Problem</h1>
                <p class="text-slate-300 text-sm leading-relaxed mb-8 flex-1">
                    Willkommen bei <strong>GlobalCorp</strong>. Du bist der SysAdmin. <br><br>
                    Du bist gefangen in der Support-H√∂lle. Jeden Morgen wachst du auf und hoffst, dass der Serverraum abgebrannt ist ‚Äì aber nein, die Lichter blinken noch.
                    <br><br>
                    Dein Chef h√§lt IT f√ºr Vodoo-Zauber, der nichts kosten darf. Deine Kollegen denken, das Internet ist "dieses blaue E". Und du? Du bist der Hausmeister f√ºr digitalen M√ºll.
                    <br><br>
                    <strong>DEIN ZIEL:</strong> √úberlebe bis <strong>16:30 Uhr</strong>. Lass dich nicht feuern. Raste nicht aus. Und lass dich nicht von der <strong>Ticket-Lawine</strong> begraben.
                </p>
                
                <div class="space-y-3 mt-auto">
                    <button onclick="engine.start()" 
                        class="bg-blue-600 hover:bg-blue-500 text-white text-lg font-bold py-4 px-8 rounded-xl w-full transition-all shadow-lg hover:shadow-blue-500/20 hover:scale-[1.02]">
                        AN DIE ARBEIT
                    </button>
                    
                    <button onclick="engine.openArchive()" 
                        class="border border-slate-700 hover:border-purple-500 hover:bg-slate-800 text-slate-400 hover:text-purple-400 py-3 rounded-xl w-full font-bold uppercase transition-all text-xs tracking-widest flex items-center justify-center gap-2">
                        <span>üèÜ</span> Karriere & Sammlung
                    </button>
                </div>
            </div>
            
            <div class="flex-1 bg-black/30 p-6 rounded-xl border border-slate-700 text-xs font-mono space-y-5 h-fit">
                <h3 class="text-white font-bold border-b border-slate-700 pb-2 mb-2">STATUS WERTE</h3>
                
                <div class="flex gap-4 items-start">
                    <div class="text-2xl bg-slate-800 w-10 h-10 flex items-center justify-center rounded-lg shrink-0">üì©</div>
                    <div><strong class="text-purple-400 block mb-1">TICKETS</strong>Alle 30 Min kommt eins. Ab 10 ist Game Over!</div>
                </div>
                
                <div class="flex gap-4 items-start">
                    <div class="text-2xl bg-slate-800 w-10 h-10 flex items-center justify-center rounded-lg shrink-0">‚ö°</div>
                    <div><strong class="text-emerald-400 block mb-1">FAULHEIT</strong>Zu hoch? Der Chef wird misstrauisch und bestraft Fehler h√§rter.</div>
                </div>
                
                <div class="flex gap-4 items-start">
                    <div class="text-2xl bg-slate-800 w-10 h-10 flex items-center justify-center rounded-lg shrink-0">üò°</div>
                    <div><strong class="text-orange-400 block mb-1">AGGRO</strong>Bei 100% wirfst du den Monitor aus dem Fenster. Game Over.</div>
                </div>
                
                <div class="flex gap-4 items-start">
                    <div class="text-2xl bg-slate-800 w-10 h-10 flex items-center justify-center rounded-lg shrink-0">üëÅÔ∏è</div>
                    <div><strong class="text-red-500 block mb-1">CHEF-RADAR</strong>Bei 100% gibt es eine Abmahnung. Dann Rauswurf.</div>
                </div>
                
                <div class="flex gap-4 items-start">
                    <div class="text-2xl bg-slate-800 w-10 h-10 flex items-center justify-center rounded-lg shrink-0">üéí</div>
                    <div><strong class="text-amber-400 block mb-1">LOOT</strong>Finde Items, um Probleme kreativ zu l√∂sen.</div>
                </div>
            </div>
        </div>
    </div>
	
    <div class="grid grid-cols-2 lg:grid-cols-5 gap-2 lg:gap-4 h-auto lg:h-24 mb-4 shrink-0">
        <div id="clock-container" class="neon-box border-blue flex flex-col justify-center items-center col-span-2 lg:col-span-1 p-2">
            <span class="text-[10px] text-blue-400 font-bold uppercase">Uhrzeit</span>
            <div id="clock" class="text-3xl lg:text-4xl font-black text-white">08:00</div>
        </div>
        
        <div id="ticket-container" class="neon-box border-purple p-2 flex flex-col justify-center items-center col-span-2 lg:col-span-1 relative">
            <span class="text-[10px] text-purple-400 font-bold uppercase mb-1">OFFENE TICKETS</span>
            <div id="ticket-count" class="text-3xl lg:text-4xl font-black text-white">0</div>
            <div class="text-[8px] text-slate-500">Max: 10</div>
        </div>

        <div id="stat-row-fl" class="neon-box border-green p-2 flex flex-col justify-center col-span-2 lg:col-span-1">
            <div class="flex justify-between text-xs font-bold mb-1 text-emerald-400"><span>FAULHEIT</span><span id="val-fl">0%</span></div>
            <div class="h-2 bg-slate-800 rounded-full"><div id="bar-fl" class="h-full bg-emerald-500 transition-all duration-300" style="width: 0%"></div></div>
        </div>
        <div id="stat-row-al" class="neon-box border-orange p-2 flex flex-col justify-center col-span-2 lg:col-span-1">
            <div class="flex justify-between text-xs font-bold mb-1 text-orange-400"><span>AGGRO</span><span id="val-al">0%</span></div>
            <div class="h-2 bg-slate-800 rounded-full"><div id="bar-al" class="h-full bg-orange-500 transition-all duration-300" style="width: 0%"></div></div>
        </div>
        <div id="stat-row-cr" class="neon-box border-red p-2 flex flex-col justify-center col-span-2 lg:col-span-1">
            <div class="flex justify-between text-xs font-bold mb-1 text-red-500"><span>CHEF-RADAR</span><span id="val-cr">0%</span></div>
            <div class="h-2 bg-slate-800 rounded-full"><div id="bar-cr" class="h-full bg-red-600 transition-all duration-300" style="width: 0%"></div></div>
        </div>
    </div>

    <div class="flex-1 flex flex-col lg:flex-row gap-4 min-h-0 mb-4 overflow-hidden">

        <div id="terminal" class="flex-[2] neon-box p-4 md:p-6 overflow-y-auto flex flex-col relative min-h-[300px] shrink-0">
            <div class="absolute top-2 right-4 text-[10px] text-slate-600">TicketSystem v1.2.0</div>
            
            <div id="boss-timer-container">
                <div id="boss-timer-bar"></div>
            </div>

            <div id="terminal-content" class="flex-1 flex flex-col justify-center items-center text-center opacity-40">
                <div class="text-4xl md:text-6xl mb-4">üñ•Ô∏è</div>
                <h1 class="text-xl md:text-2xl font-bold">SYSTEM BEREIT</h1>
                <p>W√§hle eine Aktion unten.</p>
            </div>
        </div>

        <div class="flex-1 flex flex-col gap-4 min-w-0 lg:min-w-[350px] h-full overflow-hidden">
            
            <div id="smartphone" class="flex-[2] shrink-0 min-h-[300px] flex flex-col">
                <div class="phone-notch shrink-0"><div class="w-12 h-1 bg-slate-600 rounded-full"></div></div>
                
                <div id="phone-standby" class="flex-1 flex flex-col justify-center items-center bg-slate-900 text-white">
                    <div class="text-5xl font-thin mb-2" id="phone-clock">08:00</div>
                    <div id="phone-notification" class="hidden mt-6 bg-slate-800 p-3 rounded-xl w-3/4 flex items-center gap-3 border border-red-500 cursor-pointer animate-pulse" onclick="engine.openPhone()">
                        <div class="text-xl">üì©</div>
                        <div><div class="text-[10px] font-bold">NEUE NACHRICHT</div><div class="text-[9px]">Jetzt lesen...</div></div>
                    </div>
                </div>

                <div id="phone-app" class="hidden flex-1 bg-slate-800 flex-col h-full overflow-hidden">
                    <div class="bg-indigo-600 p-2 text-xs font-bold text-white flex justify-between shrink-0">
                        <span id="app-title">Nachricht</span>
                    </div>
                    <div id="app-content" class="flex-1 p-2 overflow-y-auto flex flex-col gap-2 min-h-0"></div>
                    <div id="app-actions" class="p-2 bg-slate-900 border-t border-slate-700 grid grid-cols-1 gap-1 shrink-0"></div>
                </div>
            </div>
            
            <div class="flex-[2] neon-box p-3 flex flex-col min-h-0 overflow-hidden shrink-0">
                <div class="flex justify-between items-center border-b border-slate-800 pb-1 mb-2 shrink-0">
                    <div class="flex gap-4">
                        <div onclick="engine.openInventory()" class="cursor-pointer hover:bg-slate-800 rounded px-1 -ml-1 transition-colors flex items-center gap-2">
                            <span class="text-[10px] text-amber-500 font-bold">INVENTAR</span>
                            <span id="inv-badge" class="hidden bg-amber-500 text-black text-[9px] font-bold px-1.5 rounded-full">+0</span>
                            <span class="text-[10px] text-slate-600">üîç</span>
                        </div>

                        <div onclick="engine.openTeam()" class="cursor-pointer hover:bg-slate-800 rounded px-1 transition-colors flex items-center gap-2">
                            <span class="text-[10px] text-white font-bold">üë• TEAM</span>
                        </div>

                        <div onclick="engine.openArchive()" class="cursor-pointer hover:bg-slate-800 rounded px-1 transition-colors flex items-center gap-2">
                            <span class="text-[10px] text-purple-400 font-bold">üèÜ ARCHIV</span>
                        </div>

                        <div onclick="engine.openReportModal()" class="cursor-pointer hover:bg-slate-800 rounded px-1 transition-colors flex items-center gap-2">
                            <span class="text-[10px] text-red-400 font-bold">üêû MELDEN</span>
                        </div>
                    </div>

                    <span onclick="engine.toggleLog()" class="text-[10px] text-slate-500 font-bold cursor-pointer lg:pointer-events-none lg:cursor-default flex items-center gap-1">
                        LOG <span id="log-arrow" class="text-[8px] lg:hidden">‚ñº</span>
                    </span>
                </div>
                
                <div id="inventory-grid" class="grid grid-cols-5 gap-2 mb-4 shrink-0"></div>
                
                <div id="log-feed" class="hidden lg:block flex-1 overflow-y-auto font-mono text-[10px] space-y-1 text-slate-400 border-t border-slate-800 pt-2 min-h-0"></div>
            </div>
        </div>
    </div>

<div id="action-bar" class="h-20 grid grid-cols-4 gap-2 lg:gap-4 shrink-0">
        <button id="btn-coffee" onclick="engine.trigger('coffee')" class="action-btn text-amber-500">
            <span class="text-xl">‚òï</span><span class="text-[10px] md:text-xs font-bold">KAFFEE</span>
        </button>
        
        <button id="btn-sidequest" onclick="engine.trigger('sidequest')" class="action-btn text-purple-500">
            <span class="text-xl">üé≤</span><span class="text-[10px] md:text-xs font-bold">SIDE-QUEST</span>
        </button>
        
        <button id="btn-server" onclick="engine.trigger('server')" class="action-btn text-emerald-500">
            <span class="text-xl">üíæ</span><span class="text-[10px] md:text-xs font-bold">SERVERRAUM</span>
        </button>
        
        <button id="btn-calls" onclick="engine.trigger('calls')" class="action-btn bg-blue-900/30 text-blue-400 border-blue-800">
            <span class="text-xl">üìû</span><span class="text-[10px] md:text-xs font-bold">ANRUF</span>
        </button>
    </div>

    <div id="modal-overlay" class="fixed inset-0 hidden bg-black/95 z-50 flex items-center justify-center p-8">
        <div id="modal-content" class="max-w-xl w-full bg-slate-900 border-2 border-red-600 p-8 rounded-xl text-center shadow-2xl"></div>
    </div>
	
	<div id="inventory-modal" class="fixed inset-0 hidden bg-black/95 z-[1100] items-center justify-center p-4">
        <div class="neon-box border-amber-500 bg-slate-900 max-w-lg w-full p-6 shadow-2xl relative">
            <button onclick="engine.closeInventory()" class="absolute top-2 right-4 text-slate-400 hover:text-white text-xl">‚úï</button>
            <h2 class="text-xl font-bold text-amber-400 mb-6 flex items-center gap-2">üéí DEIN RUCKSACK</h2>
            
            <div id="full-inventory-grid" class="grid grid-cols-5 gap-3"></div>
            
            <div class="mt-6 text-center">
                <button onclick="engine.closeInventory()" class="bg-slate-800 hover:bg-slate-700 text-white px-6 py-2 rounded text-xs font-bold uppercase">Schlie√üen</button>
            </div>
        </div>
    </div>

    <div id="item-confirm-modal" class="fixed inset-0 bg-black/95 z-[1200] hidden items-center justify-center p-6">
        <div class="neon-box border-white bg-slate-900 max-w-sm w-full p-6 shadow-2xl relative text-center flex flex-col items-center">
            
            <div id="item-confirm-icon" class="text-6xl mb-4 bg-slate-800 w-24 h-24 flex items-center justify-center rounded-xl border border-slate-600 shadow-lg">
                üì¶
            </div>

            <h3 id="item-confirm-title" class="text-xl font-black text-white mb-2 uppercase">ITEM NAME</h3>
            
            <p id="item-confirm-desc" class="text-emerald-400 font-bold text-sm mb-4">
                Effekt: ???
            </p>

            <div class="bg-slate-950/50 border border-slate-800 p-3 rounded-lg w-full mb-6 text-xs text-slate-300 text-left">
                <strong class="text-red-400 block mb-1">‚ö† ACHTUNG:</strong>
                <span id="item-confirm-warn">Warntext hier.</span>
            </div>

            <div class="grid grid-cols-2 gap-3 w-full">
                <button onclick="engine.closeItemConfirm()" class="bg-slate-800 hover:bg-slate-700 text-slate-300 py-3 rounded-lg font-bold transition-colors">
                    ABBRECHEN
                </button>
                <button onclick="engine.confirmUseItem()" class="bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg font-bold shadow-lg transition-transform hover:scale-105">
                    BENUTZEN
                </button>
            </div>
        </div>
    </div>
	
	<div id="team-modal" class="fixed inset-0 hidden bg-black/95 z-[1100] items-center justify-center p-4">
        <div class="neon-box border-white bg-slate-900 max-w-4xl w-full p-6 shadow-2xl relative max-h-[90vh] overflow-y-auto">
            <button onclick="engine.closeTeam()" class="absolute top-2 right-4 text-slate-400 hover:text-white text-xl">‚úï</button>
            <h2 class="text-xl font-bold text-white mb-6 flex items-center gap-2">üë• DAS KOLLEGIUM (Die Verd√§chtigen)</h2>
            
            <div id="team-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                </div>
            
            <div class="mt-6 text-center">
                <button onclick="engine.closeTeam()" class="bg-slate-800 hover:bg-slate-700 text-white px-6 py-2 rounded text-xs font-bold uppercase">Zur√ºck an die Arbeit</button>
            </div>
        </div>
    </div>

    <div id="archive-modal" class="fixed inset-0 bg-black/95 z-[1100] hidden items-center justify-center p-4">
        <div class="bg-slate-900 border border-slate-600 w-full max-w-5xl h-[85vh] flex flex-col rounded-xl shadow-2xl overflow-hidden">
            
            <div class="bg-slate-950 p-6 border-b border-slate-700 shrink-0">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h2 class="text-3xl font-black text-purple-500 uppercase tracking-widest mb-2">
                            KARRIERE-FORTSCHRITT
                        </h2>
                        <div class="text-xs text-slate-400 mt-1">Deine gesammelten Werke des Wahnsinns.</div>
                    </div>
                    <button onclick="engine.closeArchive()" class="text-slate-400 hover:text-white text-2xl transition-colors">‚úñ</button>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-slate-900 rounded p-2 border border-slate-800 flex items-center justify-between px-4">
                        <span class="text-amber-500 font-bold text-xs">üì¶ ITEMS</span>
                        <span id="stats-items" class="text-white font-mono font-bold">0 / 0</span>
                    </div>
                    <div class="bg-slate-900 rounded p-2 border border-slate-800 flex items-center justify-between px-4">
                        <span class="text-purple-500 font-bold text-xs">üèÜ ERFOLGE</span>
                        <span id="stats-achs" class="text-white font-mono font-bold">0 / 0</span>
                    </div>
                </div>
            </div>
            
            <div id="archive-content" class="flex-1 p-6 overflow-y-auto custom-scrollbar bg-slate-900/50">
                </div>
        </div>
    </div>
	
<div id="email-modal" class="fixed inset-0 z-[2000] hidden items-center justify-center bg-black/80 backdrop-blur-sm p-4">
    
    <div class="w-full max-w-lg bg-slate-900 border border-slate-600 rounded-lg shadow-[0_0_50px_rgba(0,0,0,0.8)] flex flex-col font-sans text-slate-200 overflow-hidden relative animate-pop-in">
        
        <div class="px-5 py-4 border-b border-slate-700 bg-slate-800/50">
            <h2 id="email-subject" class="text-lg font-bold text-white mb-3 leading-tight tracking-wide">Betreff Platzhalter</h2>
            
            <div class="flex items-start gap-4">
                <div id="email-avatar" class="w-10 h-10 rounded bg-blue-600 text-white flex items-center justify-center font-bold text-xl shadow-lg shrink-0 border border-blue-500/50">
                    A
                </div>
                
                <div class="flex flex-col w-full min-w-0 justify-center">
                    <div class="flex items-baseline justify-between mb-1">
                        <span id="email-sender" class="font-bold text-blue-400 text-sm truncate">Absender Name</span>
                        <span id="email-timestamp" class="text-xs font-mono text-slate-400">00:00</span>
                    </div>
                    
                    <div class="flex flex-col text-xs text-slate-400 leading-tight">
                        <div class="flex gap-2">
                            <span class="w-6 text-slate-500 font-bold text-right">An:</span>
                            <span class="text-slate-300">Mich (SysAdmin)</span>
                        </div>
                        <div class="flex gap-2">
                            <span class="w-6 text-slate-500 font-bold text-right">CC:</span>
                            <span id="email-cc" class="text-slate-500">Management; IT-Verteiler</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="p-5 bg-slate-950/50 text-sm leading-relaxed text-slate-300 min-h-[100px] max-h-[40vh] overflow-y-auto border-b border-slate-800 shadow-inner">
            <p id="email-body">Laden...</p>
        </div>

        <div class="p-3 bg-slate-900 flex flex-col gap-2">
            <div id="email-actions" class="grid gap-2">
                </div>
            
            <button type="button" onclick="engine.resolveEmail(null, true)" class="w-full text-left px-3 py-2 bg-slate-800 hover:bg-red-950/30 border border-slate-700 hover:border-red-500/50 text-slate-400 hover:text-red-400 rounded transition-colors duration-75 flex items-center group font-medium text-xs">
                <span class="mr-2 text-slate-600 group-hover:text-red-500 transition-colors duration-75 text-base">üóëÔ∏è</span>
                <span>E-Mail l√∂schen & ignorieren</span>
            </button>
        </div>

        <div class="w-full h-1 bg-slate-800">
            <div id="email-timer-bar" class="h-full bg-amber-600 w-full shadow-[0_0_10px_rgba(217,119,6,0.5)]"></div>
        </div>
    </div>
</div>

    <div id="difficulty-modal" class="fixed inset-0 bg-black/95 z-[1000] hidden items-center justify-center p-4">
        <div class="neon-box border-purple bg-slate-900 max-w-5xl w-full p-6 md:p-8 shadow-2xl text-center">
            <h2 class="text-3xl font-black text-white mb-2">W√ÑHLE DEINEN TAG</h2>
            <p class="text-slate-400 mb-8">Wie sehr hasst du dein Leben heute?</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button onclick="engine.setDifficulty('easy')" class="group relative bg-slate-800 border border-green-500 hover:bg-green-900/20 p-6 rounded-xl transition-all hover:scale-105">
                    <div class="text-4xl mb-2">üç∫</div>
                    <h3 class="text-xl font-bold text-green-400 mb-2">FREITAG</h3>
                    <div class="text-xs text-slate-300 italic mb-4">"Hoch die H√§nde, Wochenende!"</div>
                    <ul class="text-left text-[10px] text-slate-400 space-y-1">
                        <li class="text-green-500">‚úî Weniger Tickets</li>
                        <li class="text-green-500">‚úî Kollegen sind entspannt</li>
                        <li class="text-green-500">‚úî Aggro steigt langsam (0.8x)</li>
                    </ul>
                </button>

                <button onclick="engine.setDifficulty('normal')" class="group relative bg-slate-800 border border-blue-500 hover:bg-blue-900/20 p-6 rounded-xl transition-all hover:scale-105">
                    <div class="text-4xl mb-2">‚òï</div>
                    <h3 class="text-xl font-bold text-blue-400 mb-2">MITTWOCH</h3>
                    <div class="text-xs text-slate-300 italic mb-4">"Bergfest. Der Wahnsinn ist Routine."</div>
                    <ul class="text-left text-[10px] text-slate-400 space-y-1">
                        <li class="text-blue-500">‚óè Standard Wahnsinn</li>
                        <li class="text-blue-500">‚óè Normale Ticket-Rate</li>
                        <li class="text-blue-500">‚óè Standard Multiplikator (1.0x)</li>
                    </ul>
                </button>

                <button onclick="engine.setDifficulty('hard')" class="group relative bg-slate-800 border border-red-600 hover:bg-red-900/20 p-6 rounded-xl transition-all hover:scale-105">
                    <div class="text-4xl mb-2">üíÄ</div>
                    <h3 class="text-xl font-bold text-red-500 mb-2">MONTAG</h3>
                    <div class="text-xs text-slate-300 italic mb-4">"Warum tue ich mir das an?"</div>
                    <ul class="text-left text-[10px] text-slate-400 space-y-1">
                        <li class="text-red-500">‚ö† Startet mit 2 Tickets</li>
                        <li class="text-red-500">‚ö† Fehler werden h√§rter bestraft</li>
                        <li class="text-red-500">‚ö† Boss ruft √∂fter an (1.25x)</li>
                    </ul>
                </button>
            </div>
        </div>
    </div>

    <div id="tutorial-overlay" class="fixed inset-0 z-[2000] hidden overflow-hidden">
        
        <div id="tut-spotlight" class="absolute border-2 border-white rounded-xl transition-all duration-300 pointer-events-none z-[2010] shadow-[0_0_0_9999px_rgba(0,0,0,0.85)]"></div>

        <div id="tut-text-box" class="absolute z-[2020] max-w-md bg-slate-900 border border-white p-6 rounded-xl shadow-2xl transition-all duration-300 flex flex-col gap-4">
            <h3 id="tut-title" class="text-xl font-bold text-white">Willkommen!</h3>
            <p id="tut-desc" class="text-slate-300 text-sm leading-relaxed">Hier lernst du, wie du √ºberlebst.</p>
            <div class="flex justify-between items-center mt-2">
                <span id="tut-step-count" class="text-xs text-slate-500 font-mono">1/13</span>
                <button onclick="tutorial.next()" class="bg-white hover:bg-slate-200 text-black font-bold py-2 px-6 rounded transition-transform hover:scale-105">
                    WEITER ‚û§
                </button>
            </div>
        </div>
    </div>

    <div id="tut-ask-modal" class="fixed inset-0 z-[2100] hidden items-center justify-center bg-black/90 backdrop-blur-sm">
        <div class="bg-slate-900 border-2 border-white p-6 rounded-xl max-w-sm w-full shadow-2xl text-center mx-4">
            <div class="text-4xl mb-4">üéì</div>
            <h3 class="text-xl font-bold text-white mb-2">Neu hier?</h3>
            <p class="text-slate-300 text-sm mb-6 leading-relaxed">
                Willst du eine kurze Einweisung in deinen neuen Arbeitsplatz als SysAdmin?
            </p>
            
            <div class="grid gap-3">
                <button onclick="tutorial.run()" class="bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded transition-transform hover:scale-105 shadow-lg border border-green-400">
                    Ja, zeig mir alles!
                </button>
                <button onclick="tutorial.skip()" class="bg-transparent hover:bg-slate-800 text-slate-400 font-bold py-2 px-4 rounded border border-slate-700 transition-colors">
                    Nein, ich kenne mich aus.
                </button>
            </div>
        </div>
    </div>

<div id="report-modal" class="fixed inset-0 bg-black/80 hidden items-center justify-center z-[60] backdrop-blur-sm">
    <div class="bg-slate-900 border-2 border-slate-600 p-6 rounded-lg w-full max-w-lg shadow-2xl relative">
        <button onclick="engine.closeReportModal()" class="absolute top-2 right-4 text-slate-400 hover:text-white text-2xl">&times;</button>
        
        <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
            <span>üêû</span> Bug / Feedback melden
        </h2>
        
        <div class="space-y-4">
            <div>
                <label class="block text-slate-400 text-xs uppercase mb-1">Kategorie</label>
                <select id="report-category" class="w-full bg-slate-800 border border-slate-700 text-white p-2 rounded focus:outline-none focus:border-blue-500">
                    <option value="Fehler">üêõ Fehler / Absturz</option>
                    <option value="Rechtschreibfehler">üìù Rechtschreibfehler</option>
                    <option value="Logik">ü§Ø Unlogischer Inhalt</option>
                    <option value="Schwierigkeitsgrad">‚öñÔ∏è Zu schwer / Zu leicht</option>
                    <option value="Idee">üí° Idee / Vorschlag</option>
                </select>
            </div>

            <div>
                <label class="block text-slate-400 text-xs uppercase mb-1">Beschreibung</label>
                <textarea id="report-desc" rows="4" class="w-full bg-slate-800 border border-slate-700 text-white p-2 rounded focus:outline-none focus:border-blue-500" placeholder="Was ist passiert? Welches Event war komisch?"></textarea>
            </div>

            <div class="bg-slate-800/50 p-2 rounded border border-slate-700/50">
                <p class="text-[10px] text-slate-500">
                    ‚ÑπÔ∏è Beim Senden werden automatisch technische Daten (letztes Event, Uhrzeit, Inventar) an Google Formulare √ºbergeben.
                </p>
            </div>
        </div>

        <div class="flex justify-end gap-2 mt-6">
            <button onclick="engine.closeReportModal()" class="px-4 py-2 text-slate-300 hover:text-white text-sm">Abbrechen</button>
            <button onclick="engine.sendReportMail()" class="bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded font-bold shadow-lg flex items-center gap-2">
                <span>üìß</span> An Google Formulare senden 
            </button>
        </div>
    </div>
</div>

    <script src="data.js"></script>
    <script src="engine.js"></script>
    <script src="tutorial.js"></script>
</body>
</html>
